<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-ops/upgrade">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Version Upgrade Guide | Seata</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://seata.io/seata.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://seata.io/seata.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://seata.io/seata.github.io/docs/next/ops/upgrade"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Version Upgrade Guide | Seata"><meta data-rh="true" name="description" content="Seata upgrade."><meta data-rh="true" property="og:description" content="Seata upgrade."><meta data-rh="true" name="keywords" content="Seata"><link data-rh="true" rel="icon" href="/seata.github.io/img/seata_logo_small.jpeg"><link data-rh="true" rel="canonical" href="https://seata.io/seata.github.io/docs/next/ops/upgrade"><link data-rh="true" rel="alternate" href="https://seata.io/seata.github.io/docs/next/ops/upgrade" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://seata.io/seata.github.io/zh-cn/docs/next/ops/upgrade" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://seata.io/seata.github.io/docs/next/ops/upgrade" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ICHFIJRDZF-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/seata.github.io/blog/rss.xml" title="Seata RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/seata.github.io/blog/atom.xml" title="Seata Atom Feed">


<link rel="search" type="application/opensearchdescription+xml" title="Seata" href="/seata.github.io/opensearch.xml">


<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=seata">
<script src="https://www.googletagmanager.com/gtag/js?id=G-X4LJGF90X2" async></script><link rel="stylesheet" href="/seata.github.io/assets/css/styles.bc6d77d9.css">
<link rel="preload" href="/seata.github.io/assets/js/runtime~main.cedbef8e.js" as="script">
<link rel="preload" href="/seata.github.io/assets/js/main.956dc072.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>



<script src="https://hm.baidu.com/hm.js?104e73ef0c18b416b27abb23757ed8ee"></script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/seata.github.io/"><div class="navbar__logo"><img src="/seata.github.io/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/seata.github.io/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/seata.github.io/">Home</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/overview/what-is-seata" href="/seata.github.io/docs/next/overview/what-is-seata">Next Version</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/seata.github.io/docs/next/ops/upgrade">Next Version</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/ops/upgrade">v2.0</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.8/ops/upgrade">v1.8</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.7/ops/upgrade">v1.7</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.6/ops/upgrade">v1.6</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.5/ops/upgrade">v1.5</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.4/ops/upgrade">v1.4</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.3/ops/upgrade">v1.3</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.2/ops/upgrade">v1.2</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.1/ops/upgrade">v1.1</a></li><li><a class="dropdown__link" href="/seata.github.io/docs/v1.0/ops/upgrade">v1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/seata.github.io/docs/next/developers/contributor-guide/new-contributor-guide_dev">Developers</a><a class="navbar__item navbar__link" href="/seata.github.io/blog">Blog</a><a class="navbar__item navbar__link" href="/seata.github.io/users">Users</a><a class="navbar__item navbar__link" href="/seata.github.io/community">Community</a><a class="navbar__item navbar__link" href="/seata.github.io/unversioned/download/seata-server">Download</a><a href="http://demo.seata.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Console sample</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/seata.github.io/docs/next/ops/upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/seata.github.io/zh-cn/docs/next/ops/upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">ä¸­</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Overview</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/overview/what-is-seata">What Is Seata?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/overview/history">History</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/overview/terminology">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/overview/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">User Doc</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/configurations">Seata Parameter Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/mode/at">Transaction Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/txgroup/transaction-group">Transactions Grouping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/configuration/">Configuration Center</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/registry/">Registry Center</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/api">Api Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/microservice">Microservice Framework Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/ormframework">ORM Framework Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/user/datasource">Data Source support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/sqlreference/sql-restrictions">SQL Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/apm/skywalking">APM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/performance">Testing Report</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/user/appendix/global-transaction-status">Appendix</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/dev/mode/at-mode">Transaction Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/dev/domain/overviewDomainModel">Domain Model</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/dev/seata-mertics">Metrics Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Ops Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/seata.github.io/docs/next/ops/upgrade">Version Upgrade Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/seata.github.io/docs/next/ops/multi-configuration-isolation">Multi-configuration Isolation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/seata.github.io/docs/next/ops/deploy-guide-beginner">Deploy</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Seata<!-- --> <b>Next Version</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/seata.github.io/docs/ops/upgrade">latest version</a></b> (<!-- -->v2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/seata.github.io/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Ops Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Version Upgrade Guide</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next Version</span><div class="theme-doc-markdown markdown"><h1>Version Upgrade Guide</h1><a href="#8" target="_self">8. What compatibility matters need to be paid attention to when upgrading to seata 2.0? </a><br><a href="#7" target="_self">7. What compatibility matters need to be paid attention to when upgrading to seata 1.6.x? </a><br><a href="#6" target="_self">6. What compatibility matters need to be paid attention to when upgrading to seata 1.5.0? </a><br><a href="#5" target="_self">5. What compatibility matters need to be paid attention to when upgrading to seata 1.4.0? </a><br><a href="#4" target="_self">4. What compatibility matters need to be paid attention to when upgrading to seata 1.3.0? </a><br><a href="#3" target="_self">3. What compatibility matters need to be paid attention to when upgrading to seata 1.2.0? </a><br><a href="#2" target="_self">2. What compatibility matters need to be paid attention to when upgrading to seata 1.1.0? </a><br><a href="#1" target="_self">1. How to upgrade versions 0.8 and 0.9 to version 1.0? </a><br><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8">8. What compatibility matters need to be paid attention to when upgrading to seata 2.0? <a href="#8" class="hash-link" aria-label="Direct link to 8. What compatibility matters need to be paid attention to when upgrading to seata 2.0? " title="Direct link to 8. What compatibility matters need to be paid attention to when upgrading to seata 2.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q">If you upgrade from 1.8.x to 2.0.x, if you configure the Undolog or communication codec to FST, you need to change the serialization mode to something other than FST on the client before you can upgrade it on the server. Note: In version 2.0.0 of the server, there is a resource reentry issue in AT mode. For example, in a global transaction, if multiple local transactions make repeated data modifications that are not the same, registering multiple branches can lead to abnormal ordering of the two-phase commit. Therefore, if you encounter such scenarios, please refrain from upgrading to version 2.0.0 and consider upgrading to the latest snapshot or a higher version.</div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="7">7. What compatibility matters need to be paid attention to when upgrading to seata 1.6.x? <a href="#7" class="hash-link" aria-label="Direct link to 7. What compatibility matters need to be paid attention to when upgrading to seata 1.6.x? " title="Direct link to 7. What compatibility matters need to be paid attention to when upgrading to seata 1.6.x? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q">When upgrading from version 1.5.x to version 1.6.x, both client SDK and seata-server are completely smoothly compatible, and no other changes are required other than upgrading the version.</div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6">6. What compatibility matters need to be paid attention to when upgrading to seata 1.5.0? <a href="#6" class="hash-link" aria-label="Direct link to 6. What compatibility matters need to be paid attention to when upgrading to seata 1.5.0? " title="Direct link to 6. What compatibility matters need to be paid attention to when upgrading to seata 1.5.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li>When the storage mode of seata-server is db, you need to pay attention to the table structure changes. You need to change the table structure before upgrading to 1.5.0:</li></ol><ul><li>The table structure character set is uniformly adjusted from utf8 to utf8mb4.</li><li>The <code>global_table</code> adjustment index is adjusted from <code>idx_gmt_modified_status</code> to <code>idx_status_gmt_modified</code>.</li><li><code>lock_table</code> adds <code>status</code> field, and adds <code>idx_status</code>, <code>idx_xid_and_branch_id</code> index.</li><li>Add <code>distributed_lock</code> table for seata-server asynchronous task scheduling.
Before upgrading to 1.5.0, please pay attention to the table structure changes. For details on the table structure, please <a href="https://github.com/seata/seata/tree/1.5.0/script/server/db" target="_blank" rel="noopener noreferrer">click here</a>.</li></ul><ol start="2"><li><p>TCC transaction mode adds anti-hanging function in 1.5.0. If you need to enable anti-hanging by Seata framework, you need to add <a href="https://github.com/seata/seata/tree/1.5.0/script/client/tcc/db" target="_blank" rel="noopener noreferrer">this table</a> to the client business library in advance. </p></li><li><p>The first-stage method of TCC mode has been optimized. It is no longer necessary to define <code>BusinessActionContext</code> as an interface parameter in the first stage. If <code>BusinessActionContext</code> needs to be used in the first stage, it can be obtained through <code>BusinessActionContextUtil.getContext()</code>.</p></li><li><p>The internal structure of the redis registration center has been adjusted and is no longer backward compatible. If you use redis as the registration center of seata, please also upgrade both seata-all (seata-spring-boot-starter) and seata-server that the client depends on.</p></li><li><p>The transaction group configuration supports default values. In order to avoid ambiguity and reduce learning costs, the default transaction group is changed from <code>my_test_tx_group</code> to <code>default_tx_group</code>. It will be backward compatible in version 1.5.X.</p></li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5">5. What compatibility matters need to be paid attention to when upgrading to seata 1.4.0? <a href="#5" class="hash-link" aria-label="Direct link to 5. What compatibility matters need to be paid attention to when upgrading to seata 1.4.0? " title="Direct link to 5. What compatibility matters need to be paid attention to when upgrading to seata 1.4.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li>The Redis data of version 1.3 and 1.4 are incompatible. Since the Redis mode reconstructs the data storage structure into hash, users who upgrade from 1.3 to 1.4 need to wait for all transactions to run completely before iterating.
</li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4">4. What compatibility matters need to be paid attention to when upgrading to seata 1.3.0? <a href="#4" class="hash-link" aria-label="Direct link to 4. What compatibility matters need to be paid attention to when upgrading to seata 1.3.0? " title="Direct link to 4. What compatibility matters need to be paid attention to when upgrading to seata 1.3.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li>The nacos registration center adds a new group attribute configuration <code>seata.registry.nacos.group</code>. If it is not configured, the default value is <code>DEFAULT_GROUP</code>. The server and client must be consistent.</li><li>The mysql <code>undolog</code> table removes the <code>id</code> field and enhances the timestamp accuracy together with <code>branch_table</code> to prevent dirty data from being rolled back due to sequence errors during undolog rollback. (Note: mysql version 5.6 or above is required)</li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3">3. What compatibility matters need to be paid attention to when upgrading to seata 1.2.0? <a href="#3" class="hash-link" aria-label="Direct link to 3. What compatibility matters need to be paid attention to when upgrading to seata 1.2.0? " title="Direct link to 3. What compatibility matters need to be paid attention to when upgrading to seata 1.2.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li>The nacos registration center adds a new service attribute configuration <code>registry.nacos.application</code> = &quot;seata-server&quot;. The original default name is serverAddr, and now the default is seata-server. The Server and Client must be consistent.
</li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2">2. What compatibility matters need to be paid attention to when upgrading to seata 1.1.0? <a href="#2" class="hash-link" aria-label="Direct link to 2. What compatibility matters need to be paid attention to when upgrading to seata 1.1.0? " title="Direct link to 2. What compatibility matters need to be paid attention to when upgrading to seata 1.1.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li><p>Pay attention to the compatibility of configuration items. Version 1.1.0 has unified the styles of configuration items.
If the program relies on seata-all, corresponding to the <em>.conf file, the naming style of the configuration items in the conf file is unified with a dot + camel case combination, <a href="https://seata.io/zh-cn/docs/user/configurations.html" target="_blank" rel="noopener noreferrer">1.1.0 Configuration Item Description</a>, <a href="https://github.com/seata/seata/tree/1.1.0/script/client/conf" target="_blank" rel="noopener noreferrer">1.1.0 Configuration Reference</a>;
If the program depends on seata-spring-boot-starter, corresponding to </em>.properties or *.yml, the naming style of property and yml files is unified to the combination of dot + underscore.
<a href="https://github.com/seata/seata/tree/1.1.0/script/client/spring" target="_blank" rel="noopener noreferrer">1.1.0 Configuration Reference</a> What needs special attention is the 1.0.0 version configuration item seata.service
.vgroup-mapping=default 1.1.0 changed to: seata.service.vgroup-mapping
.my_test_tx_group=default, where my_test_tx_group represents the transaction group used by the program; 1.0.0 version configuration item seata.service.grouplist=127.0.0.1:8091, 1.1.0
Change to: seata.service.grouplist.default=127.0.0.1:8091 where default represents the seata registration service name.</p></li><li><p>seata-all does not enable automatic proxying of data sources by default. The original conf file configuration items in seata-all
The client.support.spring.datasource.autoproxy configuration item is invalid and is annotated by @EnableAutoDataSourceProxy
Instead of annotation, the annotation parameter can choose to use jdk proxy or cglib proxy. When using HikariDataSource, it is recommended to use cglib proxy mode.
seata-spring-boot-starter enables the data source proxy by default, and the corresponding data source automatic proxy configuration items remain unchanged from version 1.0.0.</p></li><li><p>When using the spring cloud framework, you need to use <a href="https://github.com/alibaba/spring-cloud-alibaba" target="_blank" rel="noopener noreferrer">Spring Cloud Alibaba</a> for seata
Transmission of transaction context. So seata has integration dependencies with Spring Cloud Alibaba version, refer to <a href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">version notes</a>
spring-cloud-alibaba-seata relied on seata-all before version 2.2.0.RELEASE. If you continue to use a lower version of spring-cloud-alibaba-seata, you can use a higher version of seata-all to replace the built-in seata-all version;
Spring-cloud-alibaba-seata starts to rely on seata-spring-boot-starter internally starting from 2.2.0.RELEASE (inclusive). 2.2.0.RELEASE internally integrates seata-spring-boot-starter 1.0.0 and can be upgraded to seata-spring-boot-starter 1.1.0, seata-spring-boot-starter integrates seata-all, seata-spring-boot-starter wraps the autoconfig function for properties or yml configuration, in spring-cloud-alibaba-seata Before 2.2.0.RELEASE
The autoconfig function is supported by itself. Afterwards, the autoconfig about seata itself in spring-cloud-alibaba-seata is removed and is supported by seata-spring-boot-starter. Therefore, the lower version of spring-cloud-alibaba-seata can only be used with seata-all. Use, the higher version spring-cloud-alibaba-seata can only be used with seata-spring-boot-starter, with 2.2.0.RELEASE as the dividing point.</p></li><li><p>When the TC side adopts db storage mode, the precision of gmt_create and gmt_modified fields is added to branch_table to accurately confirm the order of rollback.
<a href="https://github.com/seata/seata/tree/1.1.0/script/server/db" target="_blank" rel="noopener noreferrer">Reference for each database script</a>.</p></li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1">1. How to upgrade versions 0.8 and 0.9 to version 1.0? <a href="#1" class="hash-link" aria-label="Direct link to 1. How to upgrade versions 0.8 and 0.9 to version 1.0? " title="Direct link to 1. How to upgrade versions 0.8 and 0.9 to version 1.0? ">â</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>Notes</mark></summary><div><div class="collapsibleContent_i85q"><ol><li>(Optional) 1.0 supports yml and properties, and seata-all needs to be replaced with seata-spring-boot-starter</li><li>(Required) Add a common index to the branch_id field of the TC side table lock_table</li><li>(Optional) Some parameter naming changes, <a href="https://seata.io/zh-cn/docs/user/configurations100.html" target="_blank" rel="noopener noreferrer">Click here to check the parameter configuration</a>.</li><li>client.report.success.enable can be set as false to improve performance.</li></ol></div></div></details><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/incubator-seata-website/blob/docusaurus/i18n/en/docusaurus-plugin-content-docs/current/ops/upgrade.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/seata.github.io/docs/next/dev/seata-mertics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Metrics Design</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/seata.github.io/docs/next/ops/multi-configuration-isolation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multi-configuration Isolation</div></a></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://incubator.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/seata.github.io/img/apache/incubator.svg" alt="Apache Incubator Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/seata.github.io/img/apache/incubator.svg" alt="Apache Incubator Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">
                  <div class="fs-12">
                    <div class="center-div">
                      <span>Apache Seata is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</span>
                    </div>
                    <br>
                    <div class="center-div">
                      <span>Copyright Â© 2023-2024, The Apache Software Foundation Apache Seata, Seata, Apache, Apache Incubator, the Apache feather, the Apache Incubator logo and the Apache Seata project logo are either registered trademarks or trademarks of the Apache Software Foundation.</span>
                      <br>
                    </div>
                    <br>
                  </div>
                  </div></div></div></footer></div>
<script src="/seata.github.io/assets/js/runtime~main.cedbef8e.js"></script>
<script src="/seata.github.io/assets/js/main.956dc072.js"></script>
</body>
</html>